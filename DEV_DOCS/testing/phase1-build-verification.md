# Phase 1: 构建验证 (L1 — 构建与静态检查)

> **预计工时:** 0.5 天 | **优先级:** P0 | **前置条件:** 无 **负责人:**
> ****\_\_\_\_**** | **执行日期:** ****\_\_\_\_****

---

## 测试目的

确保代码可以正确编译、打包，无类型错误和风格问题。这是所有后续测试的基础，**必须首先通过**。

---

## 环境准备

- [ ] Node.js ≥ 20.x 已安装
- [ ] 已 clone 最新代码并切换到正确分支
- [ ] 网络连接正常（npm install 需要下载依赖）

---

## 测试用例

### L1-01 依赖安装

| 项目         | 内容                                          |
| ------------ | --------------------------------------------- |
| **编号**     | L1-01                                         |
| **测试项**   | 依赖安装                                      |
| **执行命令** | `npm install`                                 |
| **预期结果** | 所有 workspace 依赖安装成功，无 peer dep 告警 |
| **状态**     | 🔲                                            |
| **实际结果** |                                               |
| **备注**     |                                               |

### L1-02 TypeScript 类型检查

| 项目         | 内容                       |
| ------------ | -------------------------- |
| **编号**     | L1-02                      |
| **测试项**   | TypeScript 类型检查        |
| **执行命令** | `npm run typecheck`        |
| **预期结果** | 所有包类型检查通过，0 错误 |
| **状态**     | 🔲                         |
| **实际结果** |                            |
| **备注**     |                            |

### L1-03 ESLint 检查

| 项目         | 内容                              |
| ------------ | --------------------------------- |
| **编号**     | L1-03                             |
| **测试项**   | ESLint 检查                       |
| **执行命令** | `npm run lint`                    |
| **预期结果** | 0 error，warning 数量可控         |
| **状态**     | 🔲                                |
| **实际结果** |                                   |
| **备注**     | 记录 warning 数量，评估是否可接受 |

### L1-04 Prettier 格式检查

| 项目         | 内容                                   |
| ------------ | -------------------------------------- |
| **编号**     | L1-04                                  |
| **测试项**   | Prettier 格式检查                      |
| **执行命令** | `npm run format -- --check`            |
| **预期结果** | 所有文件格式一致                       |
| **状态**     | 🔲                                     |
| **实际结果** |                                        |
| **备注**     | 如失败可运行 `npm run format` 自动修复 |

### L1-05 构建打包

| 项目         | 内容            |
| ------------ | --------------- |
| **编号**     | L1-05           |
| **测试项**   | 构建打包        |
| **执行命令** | `npm run build` |
| **预期结果** | 所有包编译成功  |
| **状态**     | 🔲              |
| **实际结果** |                 |
| **备注**     |                 |

### L1-06 esbuild 打包

| 项目         | 内容                                    |
| ------------ | --------------------------------------- |
| **编号**     | L1-06                                   |
| **测试项**   | esbuild 打包                            |
| **执行命令** | `npm run bundle`                        |
| **预期结果** | 生成 `bundle/isqcoder.js`，文件大小合理 |
| **状态**     | 🔲                                      |
| **实际结果** |                                         |
| **备注**     | 记录打包后文件大小                      |

### L1-07 全链路质量门

| 项目         | 内容                                                              |
| ------------ | ----------------------------------------------------------------- |
| **编号**     | L1-07                                                             |
| **测试项**   | 全链路质量门                                                      |
| **执行命令** | `npm run preflight`                                               |
| **预期结果** | clean → install → format → build → lint → typecheck → test 全通过 |
| **状态**     | 🔲                                                                |
| **实际结果** |                                                                   |
| **备注**     | 该命令为端到端质量门，包含前面所有步骤                            |

---

## 测试结果汇总

| 编号  | 状态 | 实际结果 | 备注 |
| ----- | ---- | -------- | ---- |
| L1-01 | 🔲   |          |      |
| L1-02 | 🔲   |          |      |
| L1-03 | 🔲   |          |      |
| L1-04 | 🔲   |          |      |
| L1-05 | 🔲   |          |      |
| L1-06 | 🔲   |          |      |
| L1-07 | 🔲   |          |      |

**通过率:** _/7 ( _%)

---

## 阻塞问题记录

| #   | 问题描述 | 影响范围 | 严重程度 | 状态 |
| --- | -------- | -------- | -------- | ---- |
|     |          |          |          |      |

---

## 签字确认

- **测试执行人:** ****\_\_\_\_****
- **完成日期:** ****\_\_\_\_****
- **结论:** ☐ 全部通过，可进入 Phase 2 / ☐ 存在阻塞问题，需修复后重测
